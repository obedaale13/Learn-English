Present Perfect Continuous Use

We use the present perfect continuous to talk about an action that started in the past and is either still continuing or recently finished.

I have been reading that new book of mine all morning.

We are more interested in the activity and cannot be sure from this sentence if the person has finished reading or not.

We often use this tense to say how long something has been happening.

I have been learning English for about five years.
John has been working for this company since last October.

Present Perfect Simple or Continuous?

Compare these sentences:

I've been repairing the TV for hours.
I've repaired the TV! Are you happy?

In the first, the activity is being spoken about and we are not sure if the TV is fixed yet or not. In the second, there is no doubt that it has been repaired.

I've been writing letters for two hours.
I've written four letters.

The present perfect continuous is often used to talk about how long. The present perfect simple to talk about how many.

You can't say I've been writing four letters.

I've lived in this town all my life.
I've been living with my girlfriend for a month.

The difference here is that the simple form is used to show permanence whereas the continuous form is used for a shorter period of time. There is a similar difference between the present continuous and the present simple.